# ì ‘ê·¼ì œì–´ (Access Control)

### ì ‘ê·¼ì œì–´ê°€ í•„ìš”í•œ ì´ìœ 

ğŸ’¡ ì½”ë“œì˜ ì„¸ë¶€ êµ¬í˜„ ë‚´ìš©ì„ ìˆ¨ê¸°ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“œëŠ” ê°œë…ìœ¼ë¡œ, ê°ì²´ì§€í–¥ì˜ ì€ë‹‰í™”ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.

```swift
class SomeClass {
    private var name = "soi"

    func changeName(name: String) {
        if name == "ios" { return }
        self.name = name
    }
}

let object1 = SomeClass()
object.name = "ios"
```

* íƒ€ ê°œë°œìê°€ ì˜ëª» ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.

### Swiftì˜ ì ‘ê·¼ ìˆ˜ì¤€(Access Levels)

1. `open` : ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì ‘ê·¼ ê°€ëŠ¥, ìƒì† ë° ì¬ì •ì˜ ê°€ëŠ¥
2. `public` : ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì ‘ê·¼ ê°€ëŠ¥, ìƒì† ë° ì¬ì •ì˜ ë¶ˆê°€ëŠ¥
3. `internal` : Default ìˆ˜ì¤€, ê°™ì€ ëª¨ë“ˆ ë‚´ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
4. `fileprivate` : ê°™ì€ íŒŒì¼ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
5. `private` : ê°™ì€ scope ë‚´ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥

ğŸ’¡ ëª¨ë“ˆì´ë€?

* import í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™¸ë¶€ ì½”ë“œë¼ê³  ìƒê°í•˜ì.
* ê°œë°œìê°€ ë§Œë“  ëª¨ë“  ì½”ë“œë¡œ, í•˜ë‚˜ì˜ ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤.
  * Foundationë„ frameworkì§€ë§Œ, í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ ë³¼ ìˆ˜ ìˆë‹¤.
  * ì¦‰, frameworkë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬, ë˜ëŠ” ë‚´ê°€ ë§Œë“  ì½”ë“œ!
* ë§Œì•½, ëª¨ë“ˆì„ ë§Œë“¤ì–´ ë°°í¬í•˜ê³ ì í•œë‹¤ë©´, `public` ì´ìƒìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼í•œë‹¤.

### ì ‘ê·¼ ì œì–´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìš”ì†Œ (ì—”í‹°í‹° / ë…ë¦½ëœ ê°ì²´)

1. íƒ€ì… ( í´ë˜ìŠ¤, êµ¬ì¡°ì²´, ì—´ê±°í˜• ë“± Swift ê¸°ë³¸ íƒ€ì…)
   * êµ¬ì¡°ì²´ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê°€ì¥ ë„“ì€ ì œí•œ ìˆ˜ì¤€ì€ publicì´ë‹¤. (ìƒì†ì´ ì—†ê¸° ë•Œë¬¸ì—)
   * íƒ€ì… ìì²´ë„ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
2. ë³€ìˆ˜ / ì†ì„±
3. í•¨ìˆ˜ / ë©”ì„œë“œ (ìƒì„±ì, ì„œë¸ŒìŠ¤í¬ë¦½íŠ¸ í¬í•¨)
4. í”„ë¡œí† ì½œ (íŠ¹ì • ì˜ì—­ìœ¼ë¡œ ì œí•œ)

### ì ‘ê·¼ì œì–´ê°€ í•„ìš”í•œ ì´ìœ 

* ì •ë³´ì˜ ì€ë‹‰í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.
  * ì™¸ë¶€ì—ì„œ privateìœ¼ë¡œ ì„ ì–¸ëœ ì†ì„±, ë©”ì„œë“œì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ì— ì½”ë“œ ë‚´ë¶€ì˜ ì„¸ë¶€ êµ¬í˜„ ë‚´ìš©ì„ ìˆ¨ê¸°ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.
* ì• í”Œì´ ìì‹ ë“¤ì´ ì›í•˜ëŠ” ì½”ë“œë¥¼ ê°ì¶œ ìˆ˜ ìˆë‹¤.
* ì½”ë“œì˜ ì˜ì—­ì„ ë¶„ë¦¬ì‹œì¼œ íš¨ìœ¨ì ì¸ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.
* ì»´íŒŒì¼ ì‹œê°„ì´ ì¤„ì–´ë“ ë‹¤.
  * íƒ€ì…ì´ ì˜¤í”ˆë˜ì–´ìˆë‹¤ë©´, ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼í•˜ë¯€ë¡œ ì˜¤ë˜ê±¸ë¦°ë‹¤.
  * ì ‘ê·¼ì œì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ë³€ìˆ˜ê°€ ì–´ë–¤ ë²”ìœ„ì—ì„œ ì ìš©ë˜ëŠ”ì§€ í™•ì‹¤íˆ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

### ì›ì¹™

ğŸ’¡ íƒ€ì…ì€ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ë³€ìˆ˜(ì†ì„±)ë‚˜, í•¨ìˆ˜ë³´ë‹¤ ë†’ì€ ìˆ˜ì¤€ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼í•œë‹¤!

```swift
// ë³€ìˆ˜
//public variableì— ì†í•œ íƒ€ì…ì€ ë” ë‚®ì€ ì ‘ê·¼ ìˆ˜ì¤€ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
//(internal, fileprivate, privae)
var some: String = "hello"

//í•¨ìˆ˜
// íŒŒë¼ë¯¸í„°, ë¦¬í„´ ã…‡íƒ€ì…ì´ ë” ë‚®ì€ ì ‘ê·¼ ìˆ˜ì¤€ì„ ê°€ì§€ì§€ ëª»í•¨
// internal, fileprivate, private
internal func someFunction(a: Int) -> Bool {
    print(a)
    return true
}

// ìì‹ ë³´ë‹¤ ë‚´ë¶€ì—ì„œ ë” ë‚®ì€ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ì ‘ê·¼ì„ ëª»í•´ì„œ ì‚¬ìš©í•˜ì§€ ëª»í•  ìˆ˜ë„ ìˆë‹¤.
```

* ë³€ìˆ˜ì™€ íƒ€ì… ëª¨ë‘ ì ‘ê·¼ ìˆ˜ì¤€ì´ ì„¤ì •ë˜ì–´ìˆìŒ
  * ë³€ìˆ˜ëŠ” internal, íƒ€ì…ì€ publicì´ ê¸°ë³¸ ì„¤ì •!
* í•¨ìˆ˜ë„ ë§ˆì°¬ê°€ì§€
  * í•¨ìˆ˜ internal, íŒŒë¼ë¯¸í„°, ë¦¬í„´í˜•ì€ public

### ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê´€ìŠµì  íŒ¨í„´

* ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê´€ìŠµì  íŒ¨í„´
* ì–¸ë”ë°”ë¥¼ ë¶™ì¸ ì†ì„± ì´ë¦„ì€ ì–¸ë”ë°”ë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¦„ì„ ì§“ëŠ”ë‹¤. (cì–¸ì–´)

```swift
class SomeOtherClass {
    private var **_name** = "name" // ì“°ê¸° - private

    var **name**: String { // ì½ê¸° - internal
        return _name
    }

    func changeName(name: String) { // ì´ë ‡ê²Œ ìˆ˜ì •ë„ ê°€ëŠ¥í•˜ê¸° ã„´í•¨!
        self._name = name
    }
}
```

### setterì˜ ì œí•œì„ ë†’ì´ëŠ” ë°©ë²• (ì ‘ê·¼ ìˆ˜ì¤€ ë‚®ì¶”ê¸°)

```swift
class SomeClass {
    private var _name = "ì´ë¦„"

    var name: String {
        return _name
    }
}

class SomeAnotherClass {
    internal private(set) var name = "ì´ë¦„" // ì½ê¸° - internal / ì“°ê¸° - private, internalì€ ìƒëµê°€ëŠ¥
}

let a = someAnotherClass()
a.name // ì ‘ê·¼ ê°€ëŠ¥
a.name = "hello" // ë¶ˆê°€ëŠ¥, privateì´ë¯€ë¡œ

```

* Swiftì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í‚¤ì›Œë“œ!

```swift
class SomeAnotherClass {
    private(set) var name = "ì´ë¦„" // ì½ê¸° - internal / ì“°ê¸° - private
}

let ab = SomeAnotherClass()
ab.name // ê°€ëŠ¥ 
ab.name = "ê¸¸ë™ // error, ì• ëŠ” private
```

### ì»¤ìŠ¤í… ì •ì˜ íƒ€ì…ì˜ ì ‘ê·¼ ì œì–´

ğŸ’¡ 1. íƒ€ì…ì˜ ë‚´ë¶€ ë©¤ë²„ëŠ” íƒ€ì… ìì²´ì˜ ì ‘ê·¼ ìˆ˜ì¤€ì„ë„˜ì„ ìˆ˜ ì—†ë‹¤.

```
â‡’ íƒ€ì…ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì€, í•´ë‹¹ íƒ€ì… ë©¤ë²„ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.
```

1.  ë‚´ë¶€ ë©¤ë²„ê°€ ëª…ì‹œì  ì„ ì–¸ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, Internalë¡œ ìœ ì§€ëœë‹¤.

    â‡’ íƒ€ì…ì˜ ì ‘ê·¼ìˆ˜ì¤€ì´ ë†’ë‹¤ê³ , ë‚´ë¶€ ë©¤ë²„ì˜ ì ‘ê·¼ ìˆ˜ì¤€ì´ ë¬´ì¡°ê±´ ë†’ì•„ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

```swift
// íƒ€ì…ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì€ (í•´ë‹¹ íƒ€ì…)ë©¤ë²„ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì— ì˜í–¥ì„ ë¯¸ì¹¨
// (ì˜ˆì‹œ) íƒ€ì…ì´ internal ë¡œ ì„ ì–¸ ë˜ë©´ ë‚´ë¶€ì˜ ë©¤ë²„ëŠ” internalì´í•˜(internal / fileprivate / private)ë¡œ ì„¤ì •ë¨

public class SomePublicClass {                         // ëª…ì‹œì ì¸ public ì„ ì–¸
    open var someOpenProperty = "SomeOpen"             // open ì´ë¼ê³  ì„¤ì •í•´ë„ publicìœ¼ë¡œ ì‘ë™ â­ï¸
    public var somePublicProperty = "SomePublic"
    var someInternalProperty = "SomeInternal"          // ì›ë˜ì˜ ê¸°ë³¸ ìˆ˜ì¤€
    fileprivate var someFilePrivateProperty = "SomeFilePrivate"
    private var somePrivateProperty = "SomePrivate"
}

let somePublic = SomePublicClass()
somePublic.someOpenProperty
somePublic.somePublicProperty
somePublic.someInternalProperty
somePublic.someFilePrivateProperty                    // ê°™ì€ íŒŒì¼ ì•ˆì´ê¸° ë•Œë¬¸ì— ì ‘ê·¼ ê°€ëŠ¥
//somePublic.somePrivateProperty
```

* íƒ€ì… ìì²´ë¥¼ privateìœ¼ë¡œ ì„ ì–¸í•œë‹¤ë©´, file privateìœ¼ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.
  * íƒ€ì… ìì²´ê°€ privateì´ë¼ë©´, ì•„ë¬´ê³³ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.



### ë‚´ë¶€ ë©¤ë²„ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ (Nested Type)

* ë‚´ë¶€ ë©¤ë²„ê°€ ëª…ì‹œì  ì„ ì–¸ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì ‘ê·¼ ìˆ˜ì¤€ì€ internalë¡œ ìœ ì§€í•œë‹¤.
* íƒ€ì…ì˜ ì ‘ê·¼ ìˆ˜ì¤€ì´ ë†’ë‹¤ê³ , ë‚´ë¶€ ë©¤ë²„ì˜ ì ‘ê·¼ ìˆ˜ì¤€ì´ ë¬´ì¡°ê±´ ë†’ì•„ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.

```swift
open class SomeClass {
    var someProperty = "SomeInternal" // internal, openìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ëª…ì‹œì  ì„ ì–¸ í•„ìš”
}
```

### ìƒì† ê´€ê³„ì˜ ì ‘ê·¼ì œì–´ (Subclassing)

ğŸ’¡ 1. íƒ€ì… : ìƒì†í•´ì„œ ë§Œë“  ì„œë¸Œí´ë˜ìŠ¤ëŠ”, ìƒìœ„í´ë˜ìŠ¤ë³´ë‹¤ ë” ë†’ì€ ì ‘ê·¼ ìˆ˜ì¤€ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. 2. ë©¤ë²„ : ë™ì¼ ëª¨ë“ˆì—ì„œ ì •ì˜í•œ í´ë˜ìŠ¤ì˜ ìƒìœ„ ë©¤ë²„ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤ë©´, ì ‘ê·¼ ìˆ˜ì¤€ì„ ë†’ì—¬ì„œ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤.

```swift
public class A {
    fileprivate func someMethod() { }
}

// public ì´í•˜ì˜ ì ‘ê·¼ìˆ˜ì¤€ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
internal class B: A {
    override internal func someMethod() { // ì ‘ê·¼ ìˆ˜ì¤€ì„ ì˜¬ë ¤ì„œ ì¬ì •ì˜
        super.someMethod() // ì ‘ê·¼ ìˆ˜ì¤€ì´ ë” ë‚®ì•„ë„, ëª¨ë“ˆì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë¯€ë¡œ í˜¸ì¶œ ê°€ëŠ¥.
    }
}
```

### í™•ì¥ì˜ ì ‘ê·¼ ì œì–´(Extension)

ğŸ’¡ ë³¸ì²´ì™€ì˜ ë™ì¼í•œ ì ‘ê·¼ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ë©°, ë³¸ì²´ì˜ ëª¨ë“  ë©¤ë²„ì— ê¸°ë³¸ì ì¸ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

```swift
public class SomeClass {
    private var somePrivateProperty = "somePrivate"
}

extension SomeClass { // publicê³¼ ë™ì¼í•¨.
    func somePriateControlFunction() {
        somePrivateProperty = "ì ‘ê·¼ê°€ëŠ¥"
    }
}
```



## ì†ì„±ê³¼ ì ‘ê·¼ì œì–´

### getter, setterì˜ ì ‘ê·¼ ì œì–´

ğŸ’¡ ì†ì„±ì˜ ì½ê¸° ì„¤ì •ê³¼ ì†ì„±ì˜ ì“°ê¸° ì„¤ì •ì„. ê³„ì‚° ì†ì„±ì´ ì•„ë‹ˆë‹¤!

*   ì €ì¥, ê³„ì‚° ì†ì„±ì˜ ì½ê¸°ì™€ ì“°ê¸°ì˜ ì ‘ê·¼ ì œì–´ ìˆ˜ì¤€ì„ êµ¬ë¶„í•´ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

    * ì¼ë°˜ì ìœ¼ë¡œ, ë°–ì—ì„œ ì“°ëŠ” ê²ƒ(setter)ë¥¼ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

    ```swift
    struct TrackedString {
        //private var numberOfEdits = 0           // ì´ë ‡ê²Œ ì„ ì–¸í•˜ë©´, ì½ê¸°ë„ ë¶ˆê°€ëŠ¥í•´ì§
        private(set) var numberOfEdits = 0        // setterì— ëŒ€í•´ì„œë§Œ private ì„ ì–¸
        //internal private(set) var numberOfEdits = 0
        
        // ì†ì„± ê´€ì°°ì
        var value: String = "ì‹œì‘" {
            didSet {
                numberOfEdits += 1
            }
        }
    }

    var stringToEdit = TrackedString()
    stringToEdit.value = "ì²«ì„¤ì •"
    stringToEdit.value += " ì¶”ê°€í•˜ê¸°1"
    stringToEdit.value += " ì¶”ê°€í•˜ê¸°2"
    print("ìˆ˜ì •í•œ íšŸìˆ˜: \(stringToEdit.numberOfEdits)")
    print(stringToEdit.value)

    // ì™¸ë¶€ì—ì„œ ì§ì ‘ì„¤ì •í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥ (ì½ëŠ” ê²ƒì€ ê°€ëŠ¥) â­ï¸
    //stringToEdit.numberOfEdits = 2
    ```
* ë³€ìˆ˜ ë° ì†ì„±, ì„œë¸ŒìŠ¤í¬ë¦½íŠ¸ì— ì“°ê¸° ìˆ˜ì¤€ì„ ì½ê¸° ìˆ˜ì¤€ë³´ë‹¤ ë‚®ì€ ì ‘ê·¼ ìˆ˜ì¤€ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥



### ì½ê¸° ì“°ê¸° ì¤‘ ì“°ê¸°ì˜ ì œí•œì„ ë†’ì´ëŠ” ë°©ë²•

* ì½ê¸°ì˜ ìˆ˜ì¤€ë³´ë‹¤ ì“°ê¸°ì˜ ìˆ˜ì¤€ì´ ë” ë†’ì„ ìˆ˜ëŠ” ì—†ë‹¤
* ì“°ê¸°ëŠ” ë°ì´í„°ë¥¼ ë°”ê¾¸ëŠ” ë™ì‘ì´ë¯€ë¡œ ë” ë†’ì€ ìœ„í—˜ì„±ì„ ê°€ì§„ë‹¤. (ë‹¤ë¥¸ ì½”ë“œì— ì˜í–¥ì„ ì£¼ë‹ˆê¹Œ)

```swift
// ì½ê¸°: internal, ì“°ê¸°: private
private(set)
internal private(set)

// ì½ê¸° public, ì“°ê¸° internal
public internal(set)
```
